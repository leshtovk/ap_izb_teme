
--------------- training set and test set --------------------

    

--------------- linear regression -----------------

- Train a least squares regression model and calculate RMSE: 
    
    n <- nrow(my_data)
    permuted.columns <- sample(n)
    split <- round(n * 0.8)

    train_data <- my_data[1:split, ]
    test_data <- my_data[(split+1):n, 

    model <- ln(y ~., data = train_data)

    model.pred <- predict(model, test_data, type = "response")
    model.err <- test_data[, y] - model_pred
    model.rmse <- sqrt(mean(model.err^2))  

- Train a least squares regression model with the help of repeated cross-referencing: 
    
    model <- train(
    y ~ .,
    my_data,
    method = "lm",
    trControl = trainControl(
    method = "repeatedcv",
    number = 10,
    repeats = 5, 
    verboseIter = TRUE
    ) )


- Train a logistic regression model and make a 2-way frequency table:

    model <- glm(y ~., family = "binomial", data = train_data)
    model.pred <- predict(model, test_data, type = "responce")

    # cut the probabilities by a threshold, phi, say 0.5
    pred.class <- ifelse(p > phi, class1, class2)
    table(pred.class, test[, y])

    # make a confusion matrix with the help of `caret`
    pred.class <- factor(pred.class, levels = levels(test[, y]))
    confusionMatrix(pred.class, test[, y])


